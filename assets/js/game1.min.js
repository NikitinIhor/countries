const cards=document.querySelectorAll(".game__card"),endGame=document.querySelector(".game-over");let flippedCard=!1,cardsLock=!1,firstCard,secondCard,count=0;function flip(){cardsLock||this!==firstCard&&(this.classList.add("flip"),flippedCard?(secondCard=this,cardsLock=!0,checkMatch()):(flippedCard=!0,firstCard=this))}const checkMatch=()=>{(firstCard.dataset.card===secondCard.dataset.card?(cardsMatch(),gameOver):cardsNoMatch)()},cardsMatch=()=>{firstCard.removeEventListener("click",flip),secondCard.removeEventListener("click",flip),cardsReset(),count++},gameOver=()=>{6===count&&(endGame.style.display="block")},cardsNoMatch=()=>{cardsLock=!0,setTimeout(()=>{firstCard.classList.remove("flip"),secondCard.classList.remove("flip"),cardsReset()},1e3)},cardsReset=()=>{flippedCard=!1,cardsLock=!1,firstCard=null,secondCard=null};cards.forEach(a=>{var e=Math.floor(6*Math.random());a.style.order=e}),cards.forEach(a=>a.addEventListener("click",flip));